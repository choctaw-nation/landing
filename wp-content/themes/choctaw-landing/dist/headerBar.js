new class{transitionDuration="0.25s";transitionTiming="ease-in-out";constructor(){this.height="80px",this.textContent=window.headerBarData.textContent,this.isDismissable=window.headerBarData.isDismissable,this.cta=window.headerBarData.cta,this.fixedEls=document.querySelectorAll(".fixed-top"),this.offsetElements(),this.handleEvents()}styleContainer(){this.header.classList.add("p-3","text-bg-secondary","d-flex","justify-content-evenly","align-items-center","text-center","w-100","position-absolute","top-0"),this.header.id="cno-alert-header-bar",this.styleElement(this.header,{height:this.height,zIndex:"1031"})}styleElement(t,e){Object.keys(e).forEach((s=>{t.style[s]=e[s]}))}buildContent(){let t=`<div class='fs-6'>${this.textContent}</div>`;this.isDismissable&&(t+=this.getDismissButton()),this.cta.button_text&&(t+=this.getCtaButton()),this.header.innerHTML=t}offsetElements(){document.body.style.paddingTop=this.height,this.fixedEls.forEach((t=>{this.styleElement(t,{position:"absolute",top:this.height,transition:`all ${this.transitionDuration} ${this.transitionTiming}`})}))}getDismissButton(){const t=document.createElement("button");return t.classList.add("btn","btn-close"),t.setAttribute("aria-label","dismiss"),this.styleElement(t,{position:"absolute",top:"50%",right:"1rem",transform:"translateY(-50%)"}),t.outerHTML}getCtaButton(){const t=this.cta.button_link?document.createElement("a"):document.createElement("button");return t.classList.add("btn","btn-primary"),t.textContent=this.cta.button_text,this.cta.button_link&&(t.href=this.cta.button_link,t.target="_blank"),this.cta.allow_custom_colors&&this.styleElement(t,{backgroundColor:`rgba(${this.cta.custom_colors.button_background.red}, ${this.cta.custom_colors.button_background.green}, ${this.cta.custom_colors.button_background.blue}, ${this.cta.custom_colors.button_background.alpha})`,color:`rgba(${this.cta.custom_colors.button_color.red}, ${this.cta.custom_colors.button_color.green}, ${this.cta.custom_colors.button_color.blue}, ${this.cta.custom_colors.button_color.alpha})`}),t.outerHTML}handleEvents(){const t=this.header.querySelector("button");t&&t.addEventListener("click",this.dismissHeader.bind(this),{once:!0}),new IntersectionObserver((t=>{t.forEach((t=>{console.log(t),t.isIntersecting||this.dismissHeader(t)}))}),{root:null,rootMargin:"0px",threshold:0}).observe(this.header)}dismissHeader(t){this.styleElement(this.header,{transition:`all ${this.transitionDuration} ${this.transitionTiming}`,opacity:"0",transform:"translateY(-100%)"}),this.styleElement(document.body,{transition:`all ${this.transitionDuration} ${this.transitionTiming}`,paddingTop:"0"}),this.fixedEls.forEach((t=>{this.styleElement(t,{position:"fixed",transition:`all ${this.transitionDuration} ${this.transitionTiming}`,top:"0"})})),"click"===t.type&&this.header.addEventListener("transitionend",(()=>{this.header.remove()}),{once:!0})}};